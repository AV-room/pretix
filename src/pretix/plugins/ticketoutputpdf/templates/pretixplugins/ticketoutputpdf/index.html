{% extends "pretixcontrol/event/base.html" %}
{% load i18n %}
{% load staticfiles %}
{% block title %}{% trans "PDF Ticket Editor" %}{% endblock %}
{% block content %}
    <h1>{% trans "PDF Ticket Editor" %}</h1>

    <div id="editor">
        <div id="editor-canvas-area">
            <canvas id="pdf-canvas" data-pdf-url="{{ request.event.settings.ticketoutput_pdf_background.url }}"
                    data-worker-url="{% static "pretixplugins/ticketoutputpdf/pdf.worker.js" %}">

            </canvas>
            <div id="fabric-container">
                <canvas id="fabric-canvas">
                </canvas>
            </div>
        </div>
        <div id="editor-toolbox-area">
            <div class="editor-toolbox-text panel panel-default">
                <div class="panel-heading">
                    Text object
                </div>
                <div class="panel-body">
                    <div class="row control-group">
                        <div class="col-sm-6">
                            <label>Position (x)</label><br>
                            <input type="number" value="13" class="input-block-level form-control">
                        </div>
                        <div class="col-sm-6">
                            <label>Position (y)</label><br>
                            <input type="number" value="13" class="input-block-level form-control">
                        </div>
                    </div>
                    <div class="control-group">
                        <label>Text</label><br>
                        <input type="text" value="Foo" class="input-block-level form-control">
                    </div>
                </div>
            </div>
            <div class="editor-toolbox-text panel panel-default">
                <div class="panel-heading">
                    {% trans "Add a new object" %}
                </div>
                <div class="panel-body">
                    <button class="btn btn-default btn-block" id="editor-add-text">
                        <span class="fa fa-font"></span>
                        {% trans "Text" %}
                    </button>
                    <button class="btn btn-default btn-block" id="editor-add-qrcode">
                        <span class="fa fa-qrcode"></span>
                        {% trans "QR code area" %}
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="{% static "pretixplugins/ticketoutputpdf/pdf.js" %}"></script>
    <script type="text/javascript" src="{% static "pretixplugins/ticketoutputpdf/fabric.min.js" %}"></script>
    <script type="text/javascript" src="{% static "pretixplugins/ticketoutputpdf/editor.js" %}"></script>
{% endblock %}

